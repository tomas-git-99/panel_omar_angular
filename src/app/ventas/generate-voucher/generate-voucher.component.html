<body class="flex items-center justify-center py-8 px-2" >

  
    <div class="w-full sm:px-6 max-h-[862]">
   <!-- search -->
   <div class="w-full my-5 lg:2/3 md:w-2/3 shadow p-5 rounded-lg bg-white h-6/6">
    <div class="relative">
      <div class="absolute flex items-center ml-2 h-full">
        <svg
          class="w-4 h-4 fill-current text-primary-gray-dark"
          viewBox="0 0 16 16"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M15.8898 15.0493L11.8588 11.0182C11.7869 10.9463 11.6932 10.9088 11.5932 10.9088H11.2713C12.3431 9.74952 12.9994 8.20272 12.9994 6.49968C12.9994 2.90923 10.0901 0 6.49968 0C2.90923 0 0 2.90923 0 6.49968C0 10.0901 2.90923 12.9994 6.49968 12.9994C8.20272 12.9994 9.74952 12.3431 10.9088 11.2744V11.5932C10.9088 11.6932 10.9495 11.7869 11.0182 11.8588L15.0493 15.8898C15.1961 16.0367 15.4336 16.0367 15.5805 15.8898L15.8898 15.5805C16.0367 15.4336 16.0367 15.1961 15.8898 15.0493ZM6.49968 11.9994C3.45921 11.9994 0.999951 9.54016 0.999951 6.49968C0.999951 3.45921 3.45921 0.999951 6.49968 0.999951C9.54016 0.999951 11.9994 3.45921 11.9994 6.49968C11.9994 9.54016 9.54016 11.9994 6.49968 11.9994Z"
          ></path>
        </svg>
      </div>

      <input
        type="text"
        #box 
        (keyup.enter)="onKey(box.value)"
        placeholder="Buscar por modelo ..."
        class="px-8 py-3 w-full rounded-md bg-gray-100 border-transparent focus:border-gray-500 focus:bg-white focus:ring-0 text-sm"
      />
    </div>
    
    <div class="flex items-center mt-4" >
  <!-- filtros -->
  <div>
    <div>
        <div class="flex items-center mt-4">
            <div>
              <div
                class="border py-1 px-3 rounded-md hover:shadow cursor-pointer"
               (click)="filtrosOpciones = !filtrosOpciones"
              >
                Filtro
              </div>
              <div
                [ngClass]="'absolute bg-white shadow p-5 z-50 flex flex-col '+ (filtrosOpciones ? 'block' : 'hidden')"
              
              >
                <label class="inline-flex items-center mt-3">
                  <input
                    type="checkbox"
                    class="form-checkbox h-5 w-5 text-gray-600"
                    value="codigo"
                    (change)="seleccionDeCheck($event)"
                  /><span class="ml-2 text-gray-700">Codigo</span>
                </label>
                <label class="inline-flex items-center mt-3">
                  <input
                    type="checkbox"
                    class="form-checkbox h-5 w-5 text-gray-600"
                    value="dibujo"
                    (change)="seleccionDeCheck($event)"
                  /><span class="ml-2 text-gray-700">Diseño / Diseño</span>
                </label>
                <label class="inline-flex items-center mt-3">
                  <input
                    type="checkbox"
                    class="form-checkbox h-5 w-5 text-gray-600"
                    value="color"
                    (change)="seleccionDeCheck($event)"
                  /><span class="ml-2 text-gray-700">Color</span>
                </label>
              </div>
            </div>
    
            <div>
              <div
              *ngIf=""
                class="border py-1 px-3 rounded-md hover:shadow cursor-pointer"
              (click)="filtrosFechas = !filtrosFechas"
              >
                Fechas
              </div>
              <div
                [ngClass]="'absolute z-50 bg-white p-4 shadow ' + (filtrosFechas ? 'block' : 'hidden')"
        

              >
                <div class="relative">
                  <label for="name-with-label" class="text-gray-700">
                    Fecha de...
                  </label>
                  <input
                    #fecha1
                    type="date"
                    id="name-with-label"
                    class="rounded-lg border-transparent flex-1 appearance-none border border-gray-300 w-full py-2 px-4 bg-white text-gray-700 placeholder-gray-400 shadow-sm text-base focus:outline-none focus:ring-2 focus:ring-purple-600 focus:border-transparent"
                    name="email"
                    placeholder="Your name"
                  />
                </div>
    
                <div class="relative">
                  <label for="name-with-label" class="text-gray-700">
                    Fecha hasta...
                  </label>
                  <input
                    #fecha2
                    type="date"
                    id="name-with-label"
                    class="rounded-lg border-transparent flex-1 appearance-none border border-gray-300 w-full py-2 px-4 bg-white text-gray-700 placeholder-gray-400 shadow-sm text-base focus:outline-none focus:ring-2 focus:ring-purple-600 focus:border-transparent"
                    name="email"
                    placeholder="Your name"
                  />
                </div>
    
                <div>
                  <p class="text-gray-600 text-sm">
                    *Si solo quiere un fecha exacta, <br />
                    Unicamente seleccione la "Fecha de ..."
                  </p>
                </div>
    
                <div>
                  <button
                    type="button"
                    
                    class="py-2 px-4 bg-indigo-600 hover:bg-indigo-700 focus:ring-indigo-500 focus:ring-offset-indigo-200 text-white w-full transition ease-in duration-200 text-center text-base font-semibold shadow-md focus:outline-none focus:ring-2 focus:ring-offset-2 rounded-lg"
                  >
                    Buscar
                  </button>
                </div>
              </div>
            </div>
      </div>
</div>
</div>
<!-- filtros end-->
    </div>
  </div>
  <!-- search end -->
        <div class="px-4 md:px-10 py-4 md:py-7 bg-gray-100 rounded-tl-lg rounded-tr-lg">
            <div class="sm:flex items-center justify-between">
                <p class="text-base sm:text-lg md:text-xl lg:text-2xl font-bold leading-normal text-gray-700">Estas en el local : </p>
                <div>
                  <!--   <button class="inline-flex sm:ml-3 mt-4 sm:mt-0 items-start justify-start px-6 py-3 bg-indigo-700 hover:bg-indigo-600 focus:outline-none rounded">
                        <p class="text-sm font-medium leading-none text-white">New Project</p>
                    </button> -->

                    <button (click)="servicioVentas.abrirCerrarVentanaCarritoDeCompras = !servicioVentas.abrirCerrarVentanaCarritoDeCompras" type="button" class="bg-white rounded-md p-2 inline-flex items-center justify-center text-gray-400 hover:text-gray-500 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-indigo-500">
                        <span class="sr-only">Close menu</span>
                        <!-- Heroicon name: outline/x -->
                        <fa-icon [icon]="faCart"  size="2x"></fa-icon>
                        

                      </button>
                </div>
            </div>
        </div>
        <div>
           
        </div>
        <div class="bg-white shadow px-4 md:px-10 pt-4 md:pt-7 pb-5 overflow-y-auto">
            <!-- categorias -->
            <div>
                <div class="sm:flex items-center justify-between " >

                    <div class="flex items-center w-[400px]" #categoryChangeDiv>
            
                      <div class="flex justify-start cursor-pointer" (click)="moveCategory('left', 150)">
                        <fa-icon [icon]="faArrowLeft" class=""  ></fa-icon>
                      </div>
            
                      <div class="flex items-center w-[400px] overflow-hidden" #categoryScrollX >
                        <a href="javascript:void(0)" (click)="changeCategory(i.id)" *ngFor="let i of categoryChange" >
                          <div [class]="i.id === valueHomeCategory ? 'py-2 px-8 bg-indigo-100 text-indigo-700 rounded-full': 'py-2 px-8 text-gray-600 hover:text-indigo-700 hover:bg-indigo-100 rounded-full'">
                          
                            <p>{{ i.nombre | titlecase }}</p>
                          </div>
                          
                        </a>
                  
                      </div>
            
               
              
            
                      <div class="flex justify-end cursor-pointer" (click)="moveCategory('right', 150)">
                        <fa-icon [icon]="faArrowRight" class=""  ></fa-icon>

            
                      </div>
            
                    </div>
            
              
            
                  </div>
            </div>

            <!-- categorias end -->
            <table class="w-full whitespace-nowrap">
                <thead>
                    <tr class="h-16 w-full text-sm leading-none text-gray-800">
                        <th class="font-normal text-center " >Codigo</th>
                        <th class="font-normal text-center " >Modelo & Diseño</th>
                        <th class="font-normal text-center ">Color</th>
                        <th class="font-normal text-center ">Talles</th>
                        <th class="font-normal text-center ">Local</th>
                        <th class="font-normal text-center ">Precio</th>
                        <th class="font-normal text-center "></th>
                    </tr>
                </thead>
                <tbody class="w-full" *ngFor="let producto of arrayProductos">
                    <tr class="h-20 text-sm leading-none text-gray-800 bg-white hover:bg-gray-100 border-b border-t border-gray-100">
                        <td class="">
                            <p class="text-sm font-medium leading-none text-gray-800 text-center">{{producto.productoDetalles == null ? producto.id : producto.productoDetalles.producto.codigo}}</p>
                    
                        </td>
                        <td class="">
                         
                                <p class="font-medium text-center">{{producto.sub_modelo == null ? producto.productoDetalles.producto.modelo  : producto.sub_modelo}}</p>
                                <p class="text-xs leading-3 text-gray-600 pt-2 text-center">{{ producto.sub_dibujo == null ? (producto.productoDetalles.producto.estampado == null ? "- -" : producto.productoDetalles.producto.estampado.dibujo) : producto.sub_dibujo }}</p>
                              
                        </td>

                        <td class="">
                            <p class="text-sm font-medium leading-none text-gray-800 text-center">{{producto.color}}</p>
                   
                        </td>
                        <td class="">
                         <div class="flex justify-center">
                            <select class="flex  w-32 text-gray-700 py-2 px-3 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500" >
                                <option value="">
                                    {{arrayTalles(producto.talles_ventas)}}
                                </option>
                                <option [value]="T.id" *ngFor="let T of producto.talles_ventas" class="text-center">
                                    {{'Talle: ' + T.talles + ' | Cantidad: ' + T.cantidad}}
                                </option>
                            
                            </select>
                            
                                           
                         </div>
                        </td>
                        <td class="">
                            <p class="font-medium text-center capitalize">{{  producto.sub_local == null ?  (producto.productoDetalles == null ? '- -': producto.productoDetalles.local.nombre ): producto.sub_local.nombre }}</p>
                         
                        </td>
                        <td class="">
                            <p class="font-medium text-center">$ {{producto.precio}}</p>
                          
                        </td>
                        <td class="">

                          
                            <div class="flex items-center gap-2">
                              <div class="bg-red-300 border-2 p-2 rounded-md cursor-pointer hover:bg-red-200" (click)="eliminarProducto(producto.id)">
                                <fa-icon [icon]="faTrash" class="text-gray-600 hover:text-gray-700" >
  
                                    </fa-icon>
                              
                                </div>
  
                              <div class="border-2 p-2 rounded-md cursor-pointer hover:bg-white" (click)="seleccionDeProductoModificar(producto.id)">
                              <fa-icon [icon]="faWrech" class="text-gray-600 hover:text-gray-700" >

                                  </fa-icon>
                            
                              </div>

                                <button (click)="agregarCarrito(producto.id)" class=" bg-white transition duration-150 ease-in-out hover:border-indigo-600 hover:text-indigo-600 rounded border border-indigo-700 text-indigo-700 px-3 py-2 text-xs">Agregar a carrito</button>

                               
                            </div>
                        </td>
       
                    </tr>
              
                </tbody>
            </table>
            <div class="px-5 bg-white py-5 flex flex-col xs:flex-row items-center xs:justify-between">
                <nav aria-label="Page navigation example">
                    <ul class="inline-flex items-center -space-x-px  overflow-x-auto " #categoryScrollX
                    style="max-width:330px"
                    >

                      <li class="sticky top-0 left-0 w-full flex justify-start">
                        <a (click)="cambioDePaginaNext(false)"  class="block py-2 px-3 ml-0 leading-tight text-gray-500 bg-white rounded-l-lg border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">
                          <span class="sr-only">Previous</span>
                          <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z" clip-rule="evenodd"></path></svg>
                        </a>
                      </li>

                      <div class="flex items-center " *ngFor="let i of items">

                        <li >
                            <a id="{{i}}" 
                            (click)="cambioDePagina($event)"
                            [ngClass]="' cursor-pointer py-2 px-3 leading-tight text-gray-500' + ( i == estadoDePagina ? 'z-10 text-blue-600 bg-blue-50 border border-blue-300 hover:bg-blue-100 hover:text-blue-700' :  'bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white')"
                             >{{i + 1}}</a>
                        </li>

                    </div>


                      <li class="sticky top-0 right-0 w-full flex justify-end">

                        <a (click)="cambioDePaginaNext(true)" class=" block py-2 px-3 leading-tight text-gray-500 bg-white rounded-r-lg border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">
                          <span class="sr-only">Next</span>
                          <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path></svg>
                        </a>
                      </li>
                    </ul>
                  </nav>
                


            </div>
        </div>
    </div>

</body>
<app-shopping-cart *ngIf="servicioVentas.abrirCerrarVentanaCarritoDeCompras"></app-shopping-cart>
<app-quick-views  [id_producto]="id_producto_Padre" ></app-quick-views>


<app-moficador-de-productos-beta
*ngIf="abriCerrarVentana"
(cerrarVentana)="abriCerrarVentana = !abriCerrarVentana"
[productoSeleccionado]="enviarProductoSeleccionado"
[arrayDeCatergoria]="categoriaArrays"
[arrayDeLocales]="localesArray"
></app-moficador-de-productos-beta>