
  <div class="fixed inset-0 flex items-center z-50 " >
    <div class=" px-6 py-4 rounded-md text-lg flex items-center justify-center w-full">

     <div class=" container ">
         <div class="flex items-center justify-center  ">

 
 <div class="rounded-md shadow w-screen h-full">

    <!--  hola -->

    <div class="w-4/4 flex border " >

      <div
        class="bg-white py-4 md:py-7 px-4 md:px-8 xl:px-10 overflow-auto w-full"
        
        
      >

      <!-- product home -->
        <div class="mt-7 overflow-x-hidden sm:w-full" *ngFor="let data of arrayCarritoProductos">
          <table class="w-full whitespace-nowrap" >
  
            <tbody  >
              <tr class="h-16 border border-gray-100 rounded max-w-[100px]">
                <td>
                  <div class="ml-5">
                    <div
                      class="rounded-sm w-5 h-5 flex flex-shrink-0 justify-center items-center relative"
                      (click)="viewSubTable(data.id)"
                    >
                      <svg
                        width="24"
                        height="24"
                        stroke-width="2.5"
                        viewBox="0 0 24 24"
                        fill="none"
                        xmlns="http://www.w3.org/2000/svg"
                        style="cursor: pointer"
                      >
                        <path
                          d="M6 9L12 15L18 9"
                          stroke="currentColor"
                          stroke-linecap="round"
                          stroke-linejoin="round"
                        />
                      </svg>
                    </div>
                  </div>
                </td>
                <td class="">
                  <div class="">
                    <p
                      class="text-base font-medium leading-none text-gray-700 mr-2"
                    >
                      {{data.codigo}}
                    </p>
              
                  </div>
                </td>
                <td class="pl-5">
                  <div class="pl-4">
                    <p
                      class="text-base font-medium leading-none text-gray-700 mr-2"
                    >
                      {{data.modelo}}
                    </p>
                    <p class="text-xs leading-3 text-gray-600 pt-2"> {{data.dibujo}}</p>
                  </div>
                </td>
                <td class="pl-5">
                  <div class="flex items-center">
                    <p class="text-sm leading-none text-gray-600 ml-2">
                      {{sumaDePrecioTotalDeUnProducto(data.talles, data.precio)[0]}}
                    </p>
                  </div>
                </td>
                <td class="pl-5">
                  <div class="">
                    <p
                      class="text-sm leading-none text-gray-600 ml-2 text-center"
                    >
                      Total: {{sumaDePrecioTotalDeUnProducto(data.talles, data.precio)[1]}}
                    </p>
                  </div>
                </td>
                <td class="">
                  <div class="">
                    <p
                      class="text-sm leading-none text-gray-600 ml-2 text-center"
                    >
                      
                    </p>
                  </div>
                </td>
                <td class="pl-5">
                  <div class="flex items-center">
                    <p class="text-sm leading-none text-gray-600 ml-2">$ {{sumaDePrecioTotalDeUnProducto(data.talles, data.precio)[2]}}
                    </p>
                  </div>
                </td>

                <td class="pl-5">
                  <button
                  (click)=" arrayProducotData = data"
                  (click)=" abrirCerrarVentanaEditarProducto = !abrirCerrarVentanaEditarProducto"
                    class="mx-2 my-2 bg-gray-200 transition duration-150 ease-in-out focus:outline-none hover:bg-gray-300 rounded text-indigo-700 px-6 py-2 text-xs"
                  >
                    Editar
                  </button>
                </td>
              </tr>
            </tbody>
          </table>

          <app-cart-sub-table 
          [isSubTable]="dataArraysSub[data.id]"
          [arrayCarritoProductosHijo]="data"
          ></app-cart-sub-table>
        </div>

       <!--  product end -->


       

      </div>

      <!--  hola -->

      <div id="summary" class=" px-8 py-6 bg-[#F6F6F6] h-[600px]">
        

        <div class=" grid justify-end ">
          <button  (click)="servicioVentas.abrirCerrarVentanaCarritoDeCompras = !servicioVentas.abrirCerrarVentanaCarritoDeCompras" type="button" class="bg-white rounded-md p-2 inline-flex items-center justify-center text-gray-400 hover:text-gray-500 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-indigo-500">
              <span class="sr-only">Close menu</span>
              <!-- Heroicon name: outline/x -->
              <svg class="h-6 w-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
              </svg>
          </button>
          
      </div>
  
        <h1 class="font-semibold text-2xl border-b pb-4">Orden</h1>
 
        <!-- opciones home -->

        <div class="mx-auto py-6">
          <div class="container flex justify-center mx-auto ">
              <div class="">
                  <!-- Code block starts -->
                  <div class="relative">
                      <div class="bg-white dark:bg-gray-800 dark:border-gray-700 flex justify-between border rounded w-40 cursor-pointer" data-menu>
                          <p class="px-3 py-3 text-gray-600 dark:text-gray-400 text-sm leading-3 tracking-normal font-normal">Opciones</p>
                          <div class="bg-white dark:bg-gray-800 dark:border-gray-700 items-center flex rounded-r border-gray-300 border-l">
                              <div class="cursor-pointer text-gray-600 dark:text-gray-400 mx-3">
                                  <svg (click)="openMenu(1)" xmlns="http://www.w3.org/2000/svg" [ngClass]="isOpenedList === 1 ? ' hidden ' : '  icon icon-tabler icon-tabler-chevron-up'" width="20" height="20" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
                                      <path stroke="none" d="M0 0h24v24H0z" />
                                      <polyline points="6 9 12 15 18 9" />
                                  </svg>
                                  <svg (click)="closeMenu()" xmlns="http://www.w3.org/2000/svg" [ngClass]="isOpenedList === 1 ? ' icon icon-tabler icon-tabler-chevron-down ' : ' hidden'" width="20" height="20" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
                                      <path stroke="none" d="M0 0h24v24H0z" />
                                      <polyline points="6 15 12 9 18 15" />
                                  </svg>
                              </div>
                          </div>
                      </div>
                      <ul [ngClass]="isOpenedList === 1 ? 'visible transition duration-300 opacity-100 bg-white dark:bg-gray-800 shadow rounded mt-2 py-1 w-48 absolute':'hidden'">
                          <li class="cursor-pointer text-gray-600 dark:text-gray-400 text-sm leading-3 tracking-normal py-3 hover:bg-gray-100 px-3 flex items-center"  (click)="isOpenedList = 0" (click)="servicioVentas.abrirCerrarVentanaCambiarPrecio = !servicioVentas.abrirCerrarVentanaCambiarPrecio">
                              <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-book" width="16" height="16" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
                                  <path stroke="none" d="M0 0h24v24H0z" />
                                  <path d="M3 19a9 9 0 0 1 9 0a9 9 0 0 1 9 0" />
                                  <path d="M3 6a9 9 0 0 1 9 0a9 9 0 0 1 9 0" />
                                  <line x1="3" y1="6" x2="3" y2="19" />
                                  <line x1="12" y1="6" x2="12" y2="19" />
                                  <line x1="21" y1="6" x2="21" y2="19" />
                              </svg>
                              <span class="ml-2 font-normal">Cambiar precio</span>
                          </li>
                          <li class="cursor-pointer text-gray-600 dark:text-gray-400 text-sm leading-3 tracking-normal py-3 hover:bg-gray-100 px-3 flex items-center"  (click)="isOpenedList = 0" (click)="servicioVentas.abrirCerrarVentanaAgregarNota = !servicioVentas.abrirCerrarVentanaAgregarNota">
                              <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-clipboard" width="16" height="16" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
                                  <path stroke="none" d="M0 0h24v24H0z" />
                                  <path d="M9 5H7a2 2 0 0 0 -2 2v12a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2V7a2 2 0 0 0 -2 -2h-2" />
                                  <rect x="9" y="3" width="6" height="4" rx="2" />
                              </svg>
                              <span class="ml-2 font-normal">Agregar nota</span>
                          </li>

                          <li class="cursor-pointer text-gray-600 dark:text-gray-400 text-sm leading-3 tracking-normal py-3 hover:bg-gray-100 px-3 flex items-center"  (click)="isOpenedList = 0" (click)="servicioVentas.abrirCerrarVentanaDescuento = !servicioVentas.abrirCerrarVentanaDescuento">
                            <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-discount-2" width="18" height="18" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
                              <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
                              <line x1="9" y1="15" x2="15" y2="9" />
                              <circle cx="9.5" cy="9.5" r=".5" fill="currentColor" />
                              <circle cx="14.5" cy="14.5" r=".5" fill="currentColor" />
                              <path d="M5 7.2a2.2 2.2 0 0 1 2.2 -2.2h1a2.2 2.2 0 0 0 1.55 -.64l.7 -.7a2.2 2.2 0 0 1 3.12 0l.7 .7a2.2 2.2 0 0 0 1.55 .64h1a2.2 2.2 0 0 1 2.2 2.2v1a2.2 2.2 0 0 0 .64 1.55l.7 .7a2.2 2.2 0 0 1 0 3.12l-.7 .7a2.2 2.2 0 0 0 -.64 1.55v1a2.2 2.2 0 0 1 -2.2 2.2h-1a2.2 2.2 0 0 0 -1.55 .64l-.7 .7a2.2 2.2 0 0 1 -3.12 0l-.7 -.7a2.2 2.2 0 0 0 -1.55 -.64h-1a2.2 2.2 0 0 1 -2.2 -2.2v-1a2.2 2.2 0 0 0 -.64 -1.55l-.7 -.7a2.2 2.2 0 0 1 0 -3.12l.7 -.7a2.2 2.2 0 0 0 .64 -1.55v-1" />
                            </svg>
                            <span class="ml-2 font-normal">Descuento</span>
                        </li>
<!--                           <li class="cursor-pointer text-gray-600 dark:text-gray-400 text-sm leading-3 tracking-normal py-3 hover:bg-gray-100 px-3 flex items-center">
                              <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-compass" width="16" height="16" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
                                  <path stroke="none" d="M0 0h24v24H0z" />
                                  <polyline points="8 16 10 10 16 8 14 14 8 16" />
                                  <circle cx="12" cy="12" r="9" />
                              </svg>
                              <span class="ml-2 font-normal">Wallpaper</span>
                          </li>
                          <li><hr class="border-gray-200 dark:border-gray-700 my-1" /></li>
                          <li class="cursor-pointer text-gray-600 dark:text-gray-400 text-sm leading-3 tracking-normal py-3 hover:bg-gray-100 px-3 flex items-center font-normal">
                              <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-device-mobile" width="16" height="16" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
                                  <path stroke="none" d="M0 0h24v24H0z" />
                                  <rect x="7" y="4" width="10" height="16" rx="1" />
                                  <line x1="11" y1="5" x2="13" y2="5" />
                                  <line x1="12" y1="17" x2="12" y2="17.01" />
                              </svg>
                              <span class="ml-2">Notifications</span>
                          </li>
                          <li class="cursor-pointer text-gray-600 dark:text-gray-400 text-sm leading-3 tracking-normal py-3 hover:bg-gray-100 px-3 flex items-center font-normal">
                              <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-tag" width="16" height="16" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
                                  <path stroke="none" d="M0 0h24v24H0z" />
                                  <path d="M11 3L20 12a1.5 1.5 0 0 1 0 2L14 20a1.5 1.5 0 0 1 -2 0L3 11v-4a4 4 0 0 1 4 -4h4" />
                                  <circle cx="9" cy="9" r="2" />
                              </svg>
                              <span class="ml-2">Account Data</span>
                          </li>
                          <li class="cursor-pointer text-gray-600 dark:text-gray-400 text-sm leading-3 tracking-normal py-3 hover:bg-gray-100 px-3 flex items-center font-normal">
                              <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-x" width="16" height="16" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
                                  <path stroke="none" d="M0 0h24v24H0z" />
                                  <line x1="18" y1="6" x2="6" y2="18" />
                                  <line x1="6" y1="6" x2="18" y2="18" />
                              </svg>
                              <span class="ml-2">Sign Out</span>
                          </li> -->
                      </ul>
                  </div>
                  <!-- Code block ends -->
              </div>
          </div>
      </div>
      
        <!-- opciones end -->

        <div class="h-[200px] max-h-[200px] overflow-x-hidden">
          <label
            for="promo"
            class="font-semibold inline-block mb-3 text-sm uppercase"
            >Historial</label
          >



        <!--   <input
            type="text"
            id="promo"
            placeholder="Enter your code"
            class="p-2 text-sm w-full"
          />
           -->

          <!-- nota home -->

         
          <app-carousel-note [notas]="todasLasNotas"></app-carousel-note>


         

          <!-- nota end -->


          <!-- descuento -->

          <div class="" *ngFor="let des of todosLosDescuento;let i = index">

            <div class="w-56 p-2 my-1 bg-white rounded shadow flex flex-shrink-0 ">
              <div tabindex="0" aria-label="group icon" role="img" class="focus:outline-none w-8 h-8 border rounded-full border-gray-200 flex flex-shrink-0 items-center justify-center">

                <fa-icon [icon]="faPercent" ></fa-icon>
              </div>
              <div class="pl-3 w-full flex">
                <div class="flex items-center justify-between w-full">
                  <p tabindex="0" class="focus:outline-none text-sm leading-none"><span class="text-green-700">$ {{des.precio}}</span>{{des.motivo}}</p>
                  <div tabindex="0" aria-label="close icon" role="button" class="focus:outline-none cursor-pointer">
                    <svg  (click)="eliminarDescuento(i)" width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg">
                      <path d="M10.5 3.5L3.5 10.5" stroke="#4B5563" stroke-width="1.25" stroke-linecap="round" stroke-linejoin="round" />
                      <path d="M3.5 3.5L10.5 10.5" stroke="#4B5563" stroke-width="1.25" stroke-linecap="round" stroke-linejoin="round" />
                    </svg>
                  </div>
                </div>
                <!-- <p tabindex="0" class="focus:outline-none text-xs leading-3 pt-1 text-gray-500">2 hours ago</p> -->
              </div>
            </div>
          
          
          </div>

        </div>
     <!--    <button
          class="bg-red-500 hover:bg-red-600 px-5 py-2 text-sm text-white uppercase"
        >
          Apply
        </button> -->
        <div class="border-t ">
          <div
          class="flex font-medium justify-between  text-sm uppercase pt-2"
        >
          <span>Productos</span>
          <span>${{sumaTotalCarrito()}}</span>
        </div>

          <div
          class="flex font-medium justify-between  text-sm uppercase"
        >
          <span>Descuento</span>
          <span> ${{descuentoTotal}}</span>
        </div>
        
 

          <div
            class="flex font-bold justify-between py-6 text-base uppercase"
          >
            <span>Total</span>
            <span>$ {{sumaTotalCarrito() - descuentoTotal}}</span>
          </div>

          <button
          (click)="completarDatos()"
            class="bg-indigo-500 font-semibold hover:bg-indigo-600 py-3 text-sm text-white uppercase w-full"
          >
            Confirmar
          </button>
        </div>
        
      </div>
      
    </div>



  </div>
</div>
</div>
</div>

<app-edit-articulo-cart
  *ngIf="abrirCerrarVentanaEditarProducto"
  (abrirCerrarVentana)="abrirCerrarVentanaEditarProducto = !abrirCerrarVentanaEditarProducto"
  [arrayDeTallesYproductos]="arrayProducotData"
></app-edit-articulo-cart>
<app-change-price *ngIf="servicioVentas.abrirCerrarVentanaCambiarPrecio" [arrayCarritoProductosHijo]="arrayCarritoProductos" ></app-change-price>
<app-note         *ngIf="servicioVentas.abrirCerrarVentanaAgregarNota"  [arrayCarritoProductosHijo]="arrayCarritoProductos"   ></app-note>
<app-offer        *ngIf="servicioVentas.abrirCerrarVentanaDescuento"  ></app-offer>
<!-- <app-center-options ></app-center-options> -->
